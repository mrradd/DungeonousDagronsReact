(this.webpackJsonpdungeonous_dagrons_react=this.webpackJsonpdungeonous_dagrons_react||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n(3),r=n(5),c=n(4),i=n(0),o=n(1),l=n.n(o),d=n(8),u=n.n(d),h=(n(14),function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleInputChange=function(e){a.props.handleInputChange(a.props.id,e)},a.setSelectedID=function(){a.props.setSelectedID(a.props.id)},a}return Object(a.a)(n,[{key:"render",value:function(){return Object(i.jsx)(l.a.Fragment,{children:Object(i.jsxs)("tr",{style:{backgroundColor:this.props.turnOwner?"blue":"white"},children:[Object(i.jsx)("td",{children:Object(i.jsx)("button",{style:{color:this.props.selected?"green":"black"},onClick:this.setSelectedID,children:Object(i.jsx)("span",{className:"material-icons",children:"face"})})}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{name:"name",value:this.props.name,onChange:this.handleInputChange})}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{name:"initiative",value:this.props.initiative,onChange:this.handleInputChange})}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{name:"hp",value:this.props.hp,onChange:this.handleInputChange})}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{name:"ac",value:this.props.ac,onChange:this.handleInputChange})}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{name:"dex",value:this.props.dex,onChange:this.handleInputChange})}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{style:{width:"500px"},name:"notes",value:this.props.notes,onChange:this.handleInputChange})})]})})}}]),n}(l.a.Component)),j=n(6),p=n.n(j),b=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).addRef=function(e){e&&a.rowRefs.push(e)},a.addRow=function(){var e=a.state.rows.slice(),t={id:Math.floor(Math.random()*Math.floor(Number.MAX_SAFE_INTEGER)),name:"",initiative:0,hp:0,ac:0,dex:0,notes:"",turnOwner:!1};e.push(t),a.setState({rows:e,selectedID:-1})},a.deleteRow=function(){var e=a.state.rows.slice(),t=a.state.selectedID;e=e.filter((function(e){return e.id!==t})),a.setState({rows:e,selectedID:-1})},a.handleInputChange=function(e,t){for(var n=a.state.rows.slice(),s=t.target.value,r=t.target.name,c=0;c<n.length;c++)if(n[c].id===e){if("name"!==r&&"notes"!==r){if(!/^-?\d*$/.test(s))return;s=Number(s)}n[c].turnOwner&&"name"===r&&a.updateName(s),n[c][r]=s,a.setState({rows:n});break}},a.moveDown=function(){if(!(a.state.rows.length<=1||a.state.selectedID<0)){for(var e=a.state.rows.slice(),t=0,n=0;n<e.length;n++)if(e[n].id===a.state.selectedID){if(n+1>e.length-1)return;t=n;break}var s=e[t+1];e[t+1]=e[t],e[t]=s,a.setState({rows:e})}},a.moveUp=function(){if(!(a.state.rows.length<=1||a.state.selectedID<0)){for(var e=a.state.rows.slice(),t=0,n=0;n<e.length;n++)if(e[n].id===a.state.selectedID){if(n-1<0)return;t=n;break}var s=e[t-1];e[t-1]=e[t],e[t]=s,a.setState({rows:e})}},a.nextTurn=function(){var e=a.state.rows.slice(),t=!1;if(e.length>0){for(var n=0;n<e.length;n++)if(e[n]&&e[n].turnOwner){t=!0,a.updateTurnOwner(e[n],!1),n+1>=e.length?(a.props.incrementRound(),a.updateTurnOwner(e[0],!0)):e[n+1]&&a.updateTurnOwner(e[n+1],!0);break}t||a.updateTurnOwner(e[0],!0)}a.setState({rows:e})},a.orderByInitiative=function(){var e=a.state.rows.slice(),t=!1;do{t=!1;for(var n=0;n<e.length-1;n++){if(e[n].initiative+e[n].dex/100<e[n+1].initiative+e[n+1].dex/100){var s=e[n];e[n]=e[n+1],e[n+1]=s,t=!0}}}while(t);a.setState({rows:e})},a.prevTurn=function(){var e=a.state.rows.slice(),t=!1;if(e.length>0){for(var n=e.length-1;n>=0&&!(n-1<0&&a.props.round<=1);n--)if(e[n]&&e[n].turnOwner){t=!0,a.updateTurnOwner(e[n],!1),n-1<0?a.updateTurnOwner(e[0],!0):a.updateTurnOwner(e[n-1],!0);break}t||a.updateTurnOwner(e[0],!0)}a.setState({rows:e})},a.renderRows=function(){return a.state.rows.map((function(e){var t=a.state.selectedID===e.id;return Object(i.jsx)(h,{id:e.id,name:e.name,initiative:e.initiative,hp:e.hp,ac:e.ac,dex:e.dex,notes:e.notes,turnOwner:e.turnOwner,handleInputChange:a.handleInputChange,updateName:a.updateName,setSelectedID:a.setSelectedID,selected:t},e.id)}))},a.setSelectedID=function(e){a.setState({selectedID:a.state.selectedID===e?-1:e})},a.updateName=function(e){a.props.updateName(e)},a.updateTurnOwner=function(e,t){var n=a.state.rows.slice(),s=n.indexOf(e);n[s].turnOwner=t,t&&a.props.updateName(n[s].name),a.setState({rows:n})},a.state={selectedID:0,rows:[{id:0,name:"",initiative:0,hp:0,ac:0,dex:0,notes:"",turnOwner:!1}],columns:["","Name","Initiative","HP","AC","DEX","Notes"],getTurnOwnerName:a.getTurnOwnerName},a.rowRefs=[],a}return Object(a.a)(n,[{key:"componentDidUpdate",value:function(){this.state.rows.length<=0&&(this.updateName(""),this.addRow())}},{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("button",{className:"tooltip",style:{color:"red"},onClick:this.deleteRow,children:[Object(i.jsx)("span",{className:"material-icons",children:"clear"}),Object(i.jsx)("span",{className:"tooltiptext",children:"Delete selected row."})]}),Object(i.jsxs)("button",{className:"tooltip",onClick:this.moveUp,children:[Object(i.jsx)("span",{className:"material-icons",children:"keyboard_arrow_up"}),Object(i.jsx)("span",{className:"tooltiptext",children:"Move selected row up."})]}),Object(i.jsxs)("button",{className:"tooltip",onClick:this.moveDown,children:[Object(i.jsx)("span",{className:"material-icons",children:"keyboard_arrow_down"}),Object(i.jsx)("span",{className:"tooltiptext",children:"Move selected row down."})]}),Object(i.jsxs)("button",{className:"tooltip",style:{color:"green"},onClick:this.addRow,children:[Object(i.jsx)("span",{className:"material-icons",children:"add_circle"}),Object(i.jsx)("span",{className:"tooltiptext",children:"Add new row."})]}),Object(i.jsxs)("button",{className:"tooltip",onClick:this.prevTurn,children:[Object(i.jsx)("span",{className:"material-icons",children:"skip_previous"}),Object(i.jsx)("span",{className:"tooltiptext",children:"Previous turn."})]}),Object(i.jsxs)("button",{className:"tooltip",onClick:this.nextTurn,children:[Object(i.jsx)("span",{className:"material-icons",children:"skip_next"}),Object(i.jsx)("span",{className:"tooltiptext",children:"Next turn."})]}),Object(i.jsxs)("button",{className:"tooltip",style:{color:"orange"},onClick:this.orderByInitiative,children:[Object(i.jsx)("span",{className:"material-icons",children:"reorder"}),Object(i.jsx)("span",{className:"tooltiptext",children:"Order by initiative"})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("table",{children:[Object(i.jsxs)("colgroup",{children:[Object(i.jsx)("col",{style:{width:"50px"}}),Object(i.jsx)("col",{style:{width:"100px"}}),Object(i.jsx)("col",{style:{width:"100px"}}),Object(i.jsx)("col",{style:{width:"100px"}}),Object(i.jsx)("col",{style:{width:"100px"}}),Object(i.jsx)("col",{style:{width:"100px"}}),Object(i.jsx)("col",{style:{width:"300px"}})]}),Object(i.jsxs)("tbody",{children:[Object(i.jsxs)("tr",{id:0,children:[Object(i.jsx)("th",{children:this.state.columns[0]}),Object(i.jsx)("th",{children:this.state.columns[1]}),Object(i.jsx)("th",{children:this.state.columns[2]}),Object(i.jsx)("th",{children:this.state.columns[3]}),Object(i.jsx)("th",{children:this.state.columns[4]}),Object(i.jsx)("th",{children:this.state.columns[5]}),Object(i.jsx)("th",{children:this.state.columns[6]})]},0),this.renderRows()]})]})]})}}]),n}(l.a.Component);b.protoTypes={incrementTurn:p.a.func,decrementTurn:p.a.func,updateName:p.a.func,round:p.a.number};var O=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).incrementRound=function(){var e=a.state.round,t=6*++e%60,n=Math.floor(e/10);a.setState({seconds:("0"+t).slice(-2),minutes:("0"+n).slice(-2),round:e})},a.updateName=function(e){a.setState({name:e})},a.state={round:1,seconds:"06",minutes:"00",name:""},a.ref=l.a.createRef(),a}return Object(a.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Initiative Tracker - 5e"}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("h3",{children:[this.state.minutes," : ",this.state.seconds," - Round: ",this.state.round]}),Object(i.jsxs)("h3",{children:[this.state.name.length>0?this.state.name:"No Name","'s Turn"]})]}),Object(i.jsx)(b,{round:this.state.round,updateName:this.updateName,incrementRound:this.incrementRound,decrementRound:this.decrementRound})]})}}]),n}(l.a.Component),m=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(i.jsx)("div",{children:Object(i.jsx)(O,{})})}}]),n}(l.a.Component);u.a.render(Object(i.jsx)(m,{}),document.getElementById("app"))}},[[17,1,2]]]);
//# sourceMappingURL=main.a38ea139.chunk.js.map